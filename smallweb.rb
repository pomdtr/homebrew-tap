# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Smallweb < Formula
  desc ""
  homepage "https://smallweb.run"
  version "0.21.8"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/pomdtr/smallweb/releases/download/v0.21.8/smallweb_Darwin_x86_64.tar.gz"
      sha256 "cb2e5fce42c9c31cc234f79e7bd06f267ed78c4840a47d05bd43230fb223f2e5"

      def install
        bin.install "smallweb"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/pomdtr/smallweb/releases/download/v0.21.8/smallweb_Darwin_arm64.tar.gz"
      sha256 "ce9d801d37ae1d9121a888152819b533629201404cbe6f72149d8d45ab63a16a"

      def install
        bin.install "smallweb"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.21.8/smallweb_Linux_x86_64.tar.gz"
        sha256 "9e16af2e37a242f4dd48052926f0198c8159842b2f74885650f6ed8f8bac5c24"

        def install
          bin.install "smallweb"
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.21.8/smallweb_Linux_arm64.tar.gz"
        sha256 "f647b2e7a7f00447d9fc3e6eb285441643c587183ca91182f79633dc4bd92e86"

        def install
          bin.install "smallweb"
        end
      end
    end
  end

  service do
    run [ opt_bin/"smallweb" ]
    keep_alive true
    working_dir HOMEBREW_PREFIX
    log_path var/"log/smallweb.log"
    error_log_path var/"log/smallweb.log"
  end
end
